<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Wine Search</title>
</head>
<body>
	
	<br><br>
	<div class="container" ng-init="getWines()">
	<div ng-show="showSearch">
		<table class="table table-hover table-bordered">
			<tr>
				<td colspan="1" class="text-center success">
					<button type="button" ng-click="getWines()" 
						class="btn btn-success"> <span class="glyphicon glyphicon-refresh"></span>
						Refresh Wines
					</button>
				</td>
				<td colspan="3" class='text-center success'>
					<span id="search">Search</span>
					<input type="text" maxlength="15" ng-model="searchValue">
				</td>
				
			
				<td colspan="7" class='text-center success'>
					<h4>Wine Selection</h4>
				</td>
			</tr>
			<tr class='success'>
				<th class="text-center col-sm-2">Name</th>
				<th class="text-center col-sm-2">Wine ID</th>
				<th class="text-center col-sm-2">Chocolate</th>
				<th class="text-center col-sm-2">Season</th>
				<th class="text-center col-sm-2">Dinner</th>
				<th class="text-center col-sm-2">Coffee</th>
				<th class="text-center col-sm-2">Cheese</th>
				
			</tr>
			<tr ng-repeat="wine in wines  | filter : searchValue" ng-click="updateWine(wine)">
				<td class="col-sm-2">{{wine.name}}</td>
				<td class="col-sm-2">{{wine.wineID}}</td>
				<td class="col-sm-2">{{wine.chocolate}}</td>
				<td class="col-sm-2">{{wine.season}}</td>
				<td class="col-sm-2">{{wine.dinner}}</td>
				<td class="col-sm-2">{{wine.coffee}}</td>
				<td class="col-sm-2">{{wine.cheese}}</td>
				
			</tr>
			<tr>
							
				<td colspan="12" class='text-left success'>
					<h4>Select a wine for update</h4>
				</td>
			</tr>
			
		</table>
	</div>
	
	<form name="updateForm">
	<div ng-show="showEditDelete">	
			
		<h5>Press 'Update' to save wine changes.</h5>
		<h5>Press 'Delete' to delete wine.</h5>
		<h5>Press 'Cancel' to return to wine search.</h5>		
		
		<div class="header">
			<button type="button" ng-click="putWine(wineToUpdate)" "
				class="btn btn-success"> <span class="glyphicon glyphicon-edit"></span>Update</button>
			<button type="button" ng-click="deleteWine(wineToUpdate.wineID)"  ng-disabled = "isDeleteButtonDisabled"
				class="btn btn-danger"> <span class="glyphicon glyphicon-edit"></span>Delete</button>	
			<button type="button" ng-click="returnToSearch()" 
				class="btn btn-warning"> <span class="glyphicon"></span>Cancel</button>		
		</div>
			
			<br>
			<table  class="table table-bordered small-table">						
				<tr>							
					<td><label for="name">NAME:</label>
						<input id="name" type="text" ng-model="wineToUpdate.name" size=40>
					</td>
				</tr>						
				<tr>							
					<td><label for="chocolate">Chocolate:</label><br>
						<select ng-options="value for value in chocolate" ng-model="wineToUpdate.chocolate">
					
					</select>
					</td>
				</tr>
				<tr>
					<td><label for="season">Season:</label><br>
					<select ng-options="value for value in season" ng-model="wineToUpdate.season">
					
					</select>
					
					</td>
				</tr>
				<tr>
					<td><label for="dinner">Dinner:</label><br>
					<select ng-options="value for value in dinner" ng-model="wineToUpdate.dinner">
					
					</select>
					
					</td>
				</tr>
				<tr>
					<td><label for="coffee">Coffee:</label><br>
					<select ng-options="value for value in coffee" ng-model="wineToUpdate.coffee">
					
					</select>
					
					</td>
				</tr>
				<tr>
					<td><label for="cheese">Cheese:</label><br>
					<select ng-options="value for value in cheese" ng-model="wineToUpdate.cheese">
					
					</select>
					
					</td>
				</tr>
				
																						
			</table>				
		<br>							
	</div>
	</form>
</div>
</body>
</html>